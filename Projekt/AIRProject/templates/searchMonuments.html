{% extends "base.html" %}

{% block content %}
<form method="POST" action="/searchMonuments">
  <div class="field">
      <div class="control">
        <label for="latitude">Your latitude: </label>
        <input id="latitude" name="latitude">
      </div>
  </div>
  <div class="field">
      <div class="control">
        <label for="longitude">Your longitude: </label>
        <input id="longitude" name="longitude">
      </div>
  </div>
  <div class="field">
      <div class="control">
        <label for="radius">Radius [km]:</label>
        <input class="input" type="number" id= "radius" name="radius">
      </div>
  </div>
  <button class="button is-block is-info">Search</button>
</form>

<script src="{{url_for('static', filename='geoFindMe.js')}}"> 
</script>

<script>
  function generate_table() {
  var listOfObjects = '{{ monums }}';
  console.log(listOfObjects);
  if(listOfObjects===undefined)
  {
    return 'Empty list'
  }
  else
  {
  
  var body = document.getElementsByTagName("body")[0];

  var tbl = document.createElement("table");
  var tblBody = document.createElement("tbody");
  var row = document.createElement("tr");

  var cell = document.createElement("td");
  var cellText = document.createTextNode(listOfObjects[0][0]);
  cell.appendChild(cellText);
  row.appendChild(cell);
  tblBody.appendChild(row);

  tbl.appendChild(tblBody);

  body.appendChild(tbl);

  tbl.setAttribute("border", "2");
  // creating all cells
  // for (var i = 0; i < listOfObjects.length; i++) {
  //   // creates a table row
  //   var row = document.createElement("tr");

  //   for (var j = 0; j < listOfObjects[i]; j++) {
  //     // Create a <td> element and a text node, make the text
  //     // node the contents of the <td>, and put the <td> at
  //     // the end of the table row
  //     var cell = document.createElement("td");
  //     var cellText = document.createTextNode(listOfObjects[i]);
  //     cell.appendChild(cellText);
  //     row.appendChild(cell);
  //   }

  //   // add the row to the end of the table body
  //   tblBody.appendChild(row);
  // }

  // // put the <tbody> in the <table>
  // tbl.appendChild(tblBody);
  // // appends <table> into <body>
  // body.appendChild(tbl);
  // // sets the border attribute of tbl to 2;
  // tbl.setAttribute("border", "2");
  }
}
generate_table();
</script>
{% endblock %}